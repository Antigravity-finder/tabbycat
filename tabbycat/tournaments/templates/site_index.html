{% extends "base.html" %}
{% load i18n static %}

{% block head-title %}<span class="emoji">ðŸ‘‹</span> {% trans "Welcome!" %}{% endblock %}
{% block page-title %}Home{% endblock %}

{% block page-alerts %}
{% include 'errors/database_limit_warning.html' %}
{% include 'errors/legacy_sendgrid_warning.html' %}
{% endblock %}

{% block header %}{% endblock header %}

{% block content %}
<div class="plerd-hero">
  <div class="hero-content">
    <h1>{% trans "Â¡Bienvenido al Programa Nacional de Debate!" %}</h1>
    <p class="subtitle">{% trans "Sistema de GestiÃ³n del Liderazgo Tabbycat - SIGEL PLERD" %}</p>
    <p class="info">{% trans "Inicia sesiÃ³n para acceder a todas las funcionalidades del sistema." %}</p>
  </div>
  <div class="hero-image">
    <img src="{% static 'logo.svg' %}" alt="Tabbycat Logo">
  </div>
</div>

<h2 class="plerd-section-title">{% trans "Torneos existentes" %}</h2>

<div class="plerd-tournament-grid">
  {% for tournament in tournaments %}
  {% url 'tournament-public-index' tournament_slug=tournament.slug as public_url %}
  <div class="plerd-card">
    <div class="card-header">
      <div class="titles">
        <h3>{{ tournament.name }}</h3>
        <p>{{ tournament.short_name }}</p>
      </div>
      <span class="badge-status">{% trans "Activo" %}</span>
    </div>
    <div class="card-actions">
      <a href="{{ public_url }}" class="btn-plerd">
        <i data-feather="globe"></i>
        {% trans "Ver Sitio PÃºblico" %}
      </a>
    </div>
  </div>
  {% empty %}
  <div class="alert alert-info w-100">
    {% trans "No hay torneos activos actualmente." %}
  </div>
  {% endfor %}
</div>

{% if inactive %}
<h2 class="plerd-section-title mt-5">{% trans "Torneos inactivos" %}</h2>
<div class="plerd-tournament-grid">
  {% for tournament in inactive %}
  {% url 'tournament-public-index' tournament_slug=tournament.slug as public_url %}
  <div class="plerd-card" style="opacity: 0.7;">
    <div class="card-header">
      <div class="titles">
        <h3>{{ tournament.name }}</h3>
        <p>{{ tournament.short_name }}</p>
      </div>
      <span class="badge-status bg-secondary">{% trans "Inactivo" %}</span>
    </div>
    <div class="card-actions">
      <a href="{{ public_url }}" class="btn-plerd">
        <i data-feather="globe"></i>
        {% trans "Ver Sitio PÃºblico" %}
      </a>
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}

{% if user.is_superuser %}
<div class="list-group mt-5">
  {% trans "New Tournament" as text %}{% url 'tournament-create' as url %}
  {% include "components/item-action.html" with icon="plus-circle" %}

  {% trans "Edit Database Area" as text %}{% url 'admin:index' as url %}
  {% include "components/item-action.html" with icon="edit" %}

  {% trans "Send a Test Email" as text %}{% url 'notifications-test-email' as url %}
  {% include "components/item-action.html" with icon="send" %}

  {% trans "Import DebateXML" as text %}{% url 'importer-archive' as url %}
  {% include "components/item-action.html" with icon="archive" %}
</div>
{% endif %}

{% endblock content %}