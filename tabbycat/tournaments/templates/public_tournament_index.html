{% extends "base.html" %}
{% load debate_tags i18n static %}

{% block noindex %}
{% if pref.search_engine_indexing == "none" %}
<meta name="robots" content="noindex">
{% endif %}
{% endblock %}

{% block head-title %}<span class="emoji">ðŸ‘‹</span>

{% blocktrans trimmed with tournament=tournament.name %}
Welcome to {{ tournament }}
{% endblocktrans %}{% endblock %}
{% block page-title %}
{% blocktrans trimmed with tournament=tournament.name %}
Welcome to {{ tournament }}
{% endblocktrans %}
{% endblock %}

{% block page-alerts %}
{% if not pref.team_tab_released and not pref.motion_tab_released and pref.public_draw == 'off' and not
pref.public_results and not pref.public_motions and not pref.public_team_standings and not pref.public_breaking_teams
and not pref.public_breaking_adjs and not pref.public_participants and not pref.feedback_progress and
pref.participant_ballots == 'off' and pref.participant_feedback == 'off' %}
<div class="alert alert-info">
  <i data-feather="alert-circle"></i>
  {% trans "There is currently no public information available for this tournament." %}
</div>
{% endif %}
{% endblock %}

{% block header %}{% endblock header %}

{% block content %}

<div class="plerd-public-hero">
  <h1>
    <span class="emoji">ðŸ‘‹</span>
    {% blocktrans trimmed with tournament=tournament.name %}Bienvenidos al {{ tournament }}{% endblocktrans %}
  </h1>
</div>

{% if pref.welcome_message %}
<div class="card mb-4 border-0 shadow-sm" style="border-radius: 12px; background-color: #f8f9fa;">
  <div class="card-body">
    {{ pref.welcome_message|safe }}
  </div>
</div>
{% endif %}

<div class="row">
  <div class="col-md">

    <div class="plerd-list-group">
      {% if pref.team_tab_released > 0 %}
      {% trans "Tabla de equipos" as text %}
      {% tournamenturl 'standings-public-tab-team' as url %}
      {% include "components/plerd-item.html" with icon="users" %}
      {% endif %}

      {% if pref.speaker_tab_released > 0 %}
      {% trans "Tabla de oradores" as text %}
      {% tournamenturl 'standings-public-tab-speaker' as url %}
      {% include "components/plerd-item.html" with icon="user" %}
      {% endif %}

      {% if pref.public_results and tournament.rounds_with_released_results.exists %}
      {% trans "Resultados" as text %}
      {% tournamenturl 'results-public-index' as url %}
      {% include "components/plerd-item.html" with icon="trending-up" %}
      {% endif %}

      {% if pref.public_motions %}
      {% trans "Mociones" as text %}
      {% tournamenturl 'motions-public' as url %}
      {% include "components/plerd-item.html" with icon="file-text" %}
      {% endif %}

      {% if pref.public_participants %}
      {% trans "Participantes" as text %}
      {% tournamenturl 'participants-public-list' as url %}
      {% include "components/plerd-item.html" with icon="users" %}
      {% endif %}

      {% if pref.public_institutions_list %}
      {% trans "Instituciones" as text %}
      {% tournamenturl 'participants-public-institutions-list' as url %}
      {% include "components/plerd-item.html" with icon="flag" %}
      {% endif %}

      {% if pref.public_breaking_teams %}
      {% for category in tournament.breakcategory_set.all %}
      {% blocktrans trimmed asvar text with category=category.name %}
      {{ category }} Break
      {% endblocktrans %}
      {% tournamenturl 'breakqual-public-teams' category.slug as url %}
      {% include "components/plerd-item.html" with icon="pie-chart" %}
      {% endfor %}
      {% endif %}

      {% if pref.public_schedule %}
      {% trans "Horario" as text %}
      {% tournamenturl 'tournament-public-schedule' as url %}
      {% include "components/plerd-item.html" with icon="clock" %}
      {% endif %}
    </div>

    {% if pref.tournament_staff %}
    <div class="plerd-staff-card">
      <div class="card-header">
        {% trans "TOURNAMENT STAFF" %}
      </div>
      <div class="card-body">
        {{ pref.tournament_staff|safe }}
      </div>
    </div>
    {% endif %}

  </div>
</div>

{% endblock content %}